<Window x:Class="Project_Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
        xmlns:local="clr-namespace:Project_Launcher"
        
        mc:Ignorable="d"
        Title="MainWindow" Height="800" Width="1150" Background="White">
    <Window.Resources>

        <Style x:Key="CustomTreeViewItemStyle" TargetType="{x:Type TreeViewItem}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeViewItem}">
                        <StackPanel>
                            <Border x:Name="border" Background="Transparent" CornerRadius="5" Padding="2">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="22"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Ебаная кнопка списка -->
                                    <ToggleButton x:Name="ExpanderButton"
                                        Grid.Column="0"
                                        Width="15"
                                        Height="15"
                                        Margin="2,0,5,0"
                                        IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}"
                                        Background="Transparent"
                                        BorderThickness="0">
                                        <ToggleButton.Style>
                                            <Style TargetType="{x:Type ToggleButton}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                            <Border Background="Transparent"
                                                                Width="15"
                                                                Height="15">
                                                                <Path x:Name="ExpanderArrow"
                                                                    Data="M 0 2 L 5 7 L 0 12"
                                                                    Stroke="Gray"
                                                                    StrokeThickness="2"
                                                                    StrokeLineJoin="Round"
                                                                    StrokeStartLineCap="Round"
                                                                    StrokeEndLineCap="Round"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center">
                                                                    <Path.RenderTransform>
                                                                        <RotateTransform x:Name="ArrowRotate" Angle="0" CenterX="2.5" CenterY="7"/>
                                                                    </Path.RenderTransform>
                                                                </Path>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsChecked" Value="True">
                                                                    <Trigger.EnterActions>
                                                                        <BeginStoryboard>
                                                                            <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ArrowRotate"
                                                                                    Storyboard.TargetProperty="Angle"
                                                                                    To="90"
                                                                                    Duration="0:0:0.2"/>
                                                                            </Storyboard>
                                                                        </BeginStoryboard>
                                                                    </Trigger.EnterActions>
                                                                    <Trigger.ExitActions>
                                                                        <BeginStoryboard>
                                                                            <Storyboard>
                                                                                <DoubleAnimation Storyboard.TargetName="ArrowRotate"
                                                                                    Storyboard.TargetProperty="Angle"
                                                                                    To="0"
                                                                                    Duration="0:0:0.2"/>
                                                                            </Storyboard>
                                                                        </BeginStoryboard>
                                                                    </Trigger.ExitActions>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ToggleButton.Style>
                                    </ToggleButton>

                                    <!-- Заголовок -->
                                    <ContentPresenter x:Name="Content"
                                        Grid.Column="1"
                                        ContentSource="Header"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"/>
                                </Grid>
                            </Border>

                            <!-- Линия -->
                            <Grid x:Name="ItemsContainer" Visibility="Collapsed" Margin="10,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Border Grid.Column="0"
                                    CornerRadius="1"        
                                    Width="2"
                                    Background="Gray"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Stretch"/>
                                <ItemsPresenter Grid.Column="1" x:Name="ItemsHost" />
                            </Grid>
                        </StackPanel>

                        <ControlTemplate.Triggers>

                            <Trigger Property="IsExpanded" Value="True">
                                <Setter TargetName="ItemsContainer" Property="Visibility" Value="Visible"/>
                            </Trigger>

                            <Trigger Property="HasItems" Value="False">
                                <Setter TargetName="ExpanderButton" Property="Visibility" Value="Hidden"/>
                            </Trigger>

                            <!-- При наведении -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFE8E8E8"/>
                            </Trigger>

                            <!-- При выборе -->
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#C5DCF8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="{x:Type TreeViewItem}" BasedOn="{StaticResource CustomTreeViewItemStyle}"/>

        <Style x:Key="PanelButton" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="Transparent" CornerRadius="5">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFE8E8E8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#C5DCF8"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition MinWidth="200" Width="Auto" MaxWidth="700"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <DockPanel Grid.Column="0">
            <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="0,0,0,1" Height="50" Padding="5">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">

                    <Button Width="40" Background="{x:Null}" BorderBrush="{x:Null}" Style="{StaticResource PanelButton}">
                        <Viewbox Stretch="Uniform">
                            <Canvas Width="34" Height="34" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path StrokeThickness="2" Stroke="#FF6F6F6F" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Canvas.Left="5.5" Canvas.Top="6">
                                    <Path.Data>
                                        <PathGeometry Figures="M22 19V9a2 2 0 0 0-2-2h-6.764a2 2 0 0 1-1.789-1.106l-.894-1.788A2 2 0 0 0 8.763 3H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2" FillRule="NonZero"/>
                                    </Path.Data>
                                </Path>
                                <Path StrokeThickness="2" Stroke="#FF6F6F6F" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Canvas.Left="5.5" Canvas.Top="6">
                                    <Path.Data>
                                        <PathGeometry Figures="M12 11v3m0 0v3m0-3h3m-3 0H9" FillRule="NonZero"/>
                                    </Path.Data>
                                </Path>
                            </Canvas>
                        </Viewbox>
                    </Button>

                    <Button Width="40" Background="{x:Null}" BorderBrush="{x:Null}" Style="{StaticResource PanelButton}" Margin="15,0,15,0">
                        <Viewbox Stretch="Uniform">
                            <Canvas Width="34" Height="34">
                                <Path StrokeThickness="2" Stroke="#FF6F6F6F" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round" HorizontalAlignment="Left" Stretch="Fill" VerticalAlignment="Top" Width="12" Canvas.Left="17" Canvas.Top="5">
                                    <Path.Data>
                                        <PathGeometry Figures="m16.475 5.408l2.117 2.117m-.756-3.982L12.109 9.27a2.118 2.118 0 0 0-.58 1.082L11 13l2.648-.53c.41-.082.786-.283 1.082-.579l5.727-5.727a1.853 1.853 0 1 0-2.621-2.621" FillRule="NonZero"/>
                                    </Path.Data>
                                </Path>
                                <Path StrokeThickness="2" Stroke="#FF6F6F6F" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Canvas.Top="7.571" HorizontalAlignment="Left" VerticalAlignment="Top" Height="20" Stretch="Fill" Canvas.Left="6" Width="20">
                                    <Path.Data>
                                        <PathGeometry Figures="M19 15v3a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h3" FillRule="NonZero"/>
                                    </Path.Data>
                                </Path>
                            </Canvas>
                        </Viewbox>
                    </Button>

                    <Button Width="40" Background="{x:Null}" BorderBrush="{x:Null}" Style="{StaticResource PanelButton}">
                        <Viewbox Stretch="Uniform">
                            <Canvas Width="34" Height="34">
                                <Path StrokeThickness="2" Stroke="#FF6F6F6F" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Canvas.Left="5.5" Canvas.Top="5.5">
                                    <Path.Data>
                                        <PathGeometry Figures="M4 6h16l-1.58 14.22A2 2 0 0 1 16.432 22H7.568a2 2 0 0 1-1.988-1.78zm3.345-2.853A2 2 0 0 1 9.154 2h5.692a2 2 0 0 1 1.81 1.147L18 6H6zM2 6h20m-12 5v5m4-5v5" FillRule="NonZero"/>
                                    </Path.Data>
                                </Path>
                            </Canvas>
                        </Viewbox>
                    </Button>
                </StackPanel>
            </Border>

            <TreeView DockPanel.Dock="Bottom" FontSize="20" Background="{x:Null}" >
                <TreeViewItem Header="Базы данных">
                    <TreeViewItem Header="MS SQL Server"/>
                    <TreeViewItem Header="MySQL">
                        <TreeViewItem Header="Visual Basic" />
                        <TreeViewItem Header="Visual Basic" />
                    </TreeViewItem>
                    <TreeViewItem Header="MongoDB"/>
                    <TreeViewItem Header="Postgres"/>
                </TreeViewItem>

                <TreeViewItem Header="Языки программирования">
                    <TreeViewItem Header="C-языки">
                        <TreeViewItem Header="C#" />
                        <TreeViewItem Header="C/C++" />
                        <TreeViewItem Header="Java" />
                    </TreeViewItem>
                    <TreeViewItem Header="Basic">
                        <TreeViewItem Header="Visual Basic" />
                        <TreeViewItem Header="VB.Net" />
                        <TreeViewItem Header="PureBasic" />
                    </TreeViewItem>
                </TreeViewItem>
            </TreeView>
        </DockPanel>

        <DockPanel Grid.Column="1">
            <Border DockPanel.Dock="Top" Height="50">
                <TextBlock Text="Заголовок" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" FontSize="22" TextWrapping="Wrap" TextAlignment="Center"/>
            </Border>
            <ScrollViewer>
                <WrapPanel x:Name="CardsPanel" DockPanel.Dock="Bottom">

                    

                </WrapPanel>
                
            </ScrollViewer>

        </DockPanel>

        <GridSplitter Grid.Column="0" Width="2" HorizontalAlignment="Right" Background="Gray"/>
    </Grid>
</Window>
